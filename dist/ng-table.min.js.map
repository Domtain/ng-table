{"version":3,"file":"ng-table.min.js","sources":["ng-table.js"],"names":["angular","factory","define","amd","window","module","value","params","settings","ngTableEventsChannel","$rootScope","addChangeEvent","eventName","target","fnName","charAt","toUpperCase","substring","event","createEventSubscriptionFn","createPublishEventFn","extend","handler","eventSelector","identity","scope","arguments","length","isFunction","$new","isObject","requiredPublisher","publisher","$on","isNullInstance","eventArgs","rest","fnArgs","concat","apply","this","Array","prototype","slice","call","$broadcast","array","n","events","$inject","ngTableFilterConfigProvider","init","resetConfigs","config","defaultConfig","setConfig","customConfig","mergeConfig","aliasUrls","ngTableFilterConfig","getTemplateUrl","filterDef","filterKey","id","indexOf","service","getUrlForAlias","aliasName","defaultBaseUrl","defaultExt","publicConfig","Object","defineProperty","get","copy","enumerable","$get","provider","ngTableDefaultGetDataProvider","ngTableDefaultGetData","$filter","getFilterFn","filterOptions","filterFn","filterFilterName","getOrderByFn","sortingFilterName","applyFilter","data","hasFilter","filter","filterKeys","keys","parsedFilter","reduce","result","key","setPath","filterComparator","applyPaging","pagedData","page","count","total","applySort","orderBy","orderByFn","getData","options","defaultDataOptions","dataOptions","fData","orderedData","obj","path","split","ret","lastKey","parentPathKeys","forEach","hasOwnProperty","buildColumn","column","defaultScope","columns","extendedCol","create","defaults","createDefaults","prop","undefined","prop1","getterSetter","isScopeLike","assign","$scope","getterFn","context","$column","$columns","class","createGetterSetter","type","groupable","filterData","noop","field","headerTemplateURL","headerTitle","headerWidth","headerDynamicWidth","headerGroup","sortable","show","dynamic","locked","active","title","titleAlt","initialValue","newValue","object","$q","$log","ngTableDefaults","isNumber","isNaN","parseFloat","isFinite","NgTableParams","baseParameters","baseSettings","parseGroup","group","defaultSort","groupOptions","sortDirection","isString","grp","convertSortToOrderBy","sorting","push","createComparableParams","groupSortDirection","hasGlobalSearchFieldChanges","currentVal","$","previousVal","prevParamsMemento","equals","optimizeFilterDelay","filterDelay","defaultFilterOptions","filterDelayThreshold","defaultSettingsFns","runInterceptorPipeline","fetchedData","interceptors","interceptor","thenFn","response","bind","when","rejectFn","responseError","reject","then","self","reason","getDefaultSettingFns","dataset","getGroups","groupFn","groupField","item","getPath","originalDataOptions","gotData","groups","groupName","$hideRows","isExpanded","i","ks","errParamsMemento","isCommittedDataset","initialEvents","log","debugMode","debug","filterReload","filterLayout","defaultGroupOptions","parameters","newParameters","parseParamsFromUrl","isDefined","reverse","len","name","v","newSettings","isArray","originalDataset","hasDatasetChanged","fireEvent","publishDatasetChanged","significantFilter","filterValue","groupArray","sortArray","isSortBy","direction","generatePagesArray","currentPage","totalItems","pageSize","maxBlocks","maxPage","maxPivotPages","minPage","numPages","pages","Math","ceil","number","max","current","round","paginationMaxBlocks","paginationMinBlocks","min","isDataReloadRequired","hasGroup","hasSortingChanges","previousSorting","hasFilterChanges","previousFilter","url","asString","collectValue","pairs","isSignificantValue","encodeURIComponent","update","reload","pData","$loading","oldData","publishAfterReloadData","reloadPages","hasErrorState","currentPages","oldPages","newPages","publishPagesChanged","allowUnsort","counts","sortingIndicator","publishAfterCreated","controller","$timeout","$parse","$compile","$attrs","$element","ngTableColumn","setDynamicColumnsSpace","space","dynamicColumnsSpace","getDynamicColumnsSpace","onDataReloadStatusChange","newStatus","currentParams","delayFilter","setupFilterRowBindingsToInternalScope","showFilter","$parent","$watch","show_filter","hasVisibleFilterColumn","disableFilter","$filterRow","disabled","setupGroupRowBindingsToInternalScope","$groupRow","showGroup","showGroupGetter","getVisibleColumns","c","some","predicate","found","commonInit","bindDataToScope","newDatapage","visibleColumns","$groups","visibleColumnCount","$data","bindPagesToScope","isMyPublisher","onAfterReloadData","onPagesChanged","timer","callback","ms","cancel","newParams","oldParams","compileDirectiveTemplates","hasClass","templates","header","templateHeader","pagination","templatePagination","addClass","headerTemplate","theadFound","children","e","tagName","element","document","createElement","attr","prepend","paginationTemplate","ng-table-pagination","template-url","after","loadFilterData","promise","isLastActive","hasNext","hasPrevious","next","remainingWidth","j","k","previous","buildColumns","dynamicColumns","columnsSpace","offsetWidth","parseNgTableDynamicExpr","parts","tableParams","Error","setupBindingsToInternalScope","tableParamsExpr","tableParamsGetter","isUndefined","paramsModel","directive","restrict","priority","compile","dataRow","groupRow","rows","find","tr","el","getAttrValue","setAttrValue","parsedAttribute","expr","localValue","getter","parsedExpr","titleExpr","attrs","ngTable","tElement","row","showExpr","ngClassExpr","ngTableDynamic","rebuild","newCols","ngTableColumnsBinding","linkFn","setter","newColumns","shallowClone","require","link","templateUrl","replace","pubParams","template","ng-include","append","ngTableFilterRowController","getFilterCellCss","layout","size","width","parseInt","getColspan","colspan","col","getGroupedColumns","containsGroup","groupedColumns","getFilterPlaceholderValue","placeholder","ngTableFilterRow","ngTableGroupRowController","getGroupables","getGroupTitle","groupBy","isSelectedGroup","toggleDetail","setGroup","changeSortDirection","newDirection","$selGroup","findGroupColumn","groupKey","groupableCols","groupFns","existingGroupCol","$selGroupTitle","groupedColumn","ngTableGroupRow","controllerAs","ngTableSorterRowController","sortBy","parsedSortable","inverseSort","multipleSort","ctrlKey","metaKey","newSort","sortingParams","ngTableSorterRow","ngTableSelectFilterDs","ngTableSelectFilterDsController","bindDataSource","getSelectListData","hasEmptyOption","unshift","$selectData","isMatch","run","$templateCache","put"],"mappings":"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"}